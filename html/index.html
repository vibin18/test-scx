<!doctype html>
<html lang="en" data-theme="cupcake" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NET Watcher</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.20/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div class="navbar bg-base-100">
    <div class="flex-none">
        <button class="btn btn-square btn-ghost">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>
    </div>
    <div class="flex-1">
        <a class="btn btn-ghost text-xl">scx24BOT</a>
    </div>
    <input type="checkbox" value="dracula" class="toggle theme-controller"/>
    <div class="flex-none">
        <button class="btn btn-square btn-ghost">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg>
        </button>
    </div>
</div>
<div class="bg-gray-50 h-68">
    <div class="md:container md:mx-auto">
        <div class="flex flex-row gap-20 ">
            <div class="basis-2/3 ">
                <div class="place-content-center">
                    <h2 class="card-title">MOTOR</h2>
                    <label for="slider">
                        <div class="badge badge-accent">MOTOR SPEED:</div>
                    </label>
                    <!-- Use hx-trigger to handle the input event -->
                    <input type="range" id="slider" name="slider" min="0" max="255" value={{.DrivePWM}} hx-trigger="change" hx-post="/updatePWM" hx-vals="{ 'sliderValue': value }" class="range range-success">
                    <div class="w-full flex justify-between text-xs px-2">
                        <span>| 0</span>
                        <span>| 25</span>
                        <span>| 50</span>
                        <span>| 75</span>
                        <span>| 100</span>
                        <span>| 125</span>
                        <span>| 150</span>
                        <span>| 175</span>
                        <span>| 200</span>
                        <span>| 225</span>
                        <span>| 250</span>
                    </div>
                    <div class="p-8">
                        <button class="btn btn-error" hx-post="/stop_button" hx-swap="none">Stop!</button>
                    </div>
                </div>
            </div>
            <div class="basis-1/3">
                <div class="wcard w-96 items-center text-center bg-base-100 shadow-xl">
                    <div class="wcard-body">
                        <h2 class="wcard-title">SERVO PWM</h2>
                        <div class="radial-progress  border-8 border-ghost" style="--value:{{.PwmPercentage}}; --size:12rem; --thickness: 2rem;" role="progressbar">{{.DrivePWM}} PWM</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex flex-row gap-20 ">
            <div class="basis-2/3 ">
                <div class="place-content-center">
                    <h2 class="card-title">MOTOR</h2>

                    <div class="p-8">
                        <button class="btn btn-primary" hx-post="/forward" hx-swap="none">Forward</button>
                    </div>
                    <div class="p-8">
                        <button class="btn btn-primary" hx-post="/reverse" hx-swap="none">Reverse</button>
                    </div>
                    <div class="p-8">
                        <button class="btn btn-primary" hx-post="/right" hx-swap="none">TurnRight</button>
                    </div>
                    <div class="p-8">
                        <button class="btn btn-primary" hx-post="/left" hx-swap="none">TurnLeft</button>
                    </div>
                    <div class="p-8">
                        <button class="btn btn-primary" hx-post="/straight" hx-swap="none">Straight</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex flex-row gap-20 ">
            <div class="basis-2/3 ">
                <div class="place-content-center">
                    <h2 class="card-title">GYRO</h2>
                    <div class="flex flex-row gap-20 ">
                        <div hx-ext="ws" ws-connect="ws://192.168.1.203:8080/ws" >
                                    <span id="message">Gyro val:</span>
                        </div>
<!--                                <h1 hx-get="/ws" hx-swap="outerHTML" id="message">WebSocket Message: </h1>-->
<!--                                <span hx-swap="innerHTML" hx-target="#message">Gyro: {{.Gyro}}</span>-->

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://unpkg.com/htmx.org@1.9.8" integrity="sha384-rgjA7mptc2ETQqXoYC3/zJvkU7K/aP44Y+z7xQuJiVnB/422P/Ak+F/AqFR7E4Wr" crossorigin="anonymous"></script>
<!--<script src="https://unpkg.com/htmx.org/dist/ext/sse.js"></script>-->
<script src="https://unpkg.com/htmx.org/dist/ext/ws.js"></script>
</body>
</html>